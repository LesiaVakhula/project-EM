<div class="main-shop-card">
    <hr>
    <h3>Event: <span>{{order.eventName}}</span></h3>
    <hr>
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-8">
            <div class="shop-card col-12" >
                <div class="service">
                    <p class="description set-border-right"><span>Description</span></p>
                    <p class="image set-border-right"><span>Image</span></p>
                    <p class="quantity set-border-right"><span>Quantity</span></p>
                    <p class="price set-border-right"><span>Price</span></p>
                    <p class="total set-border-right"><span>Total</span></p>
                    <p class="delete set-border-right"><span>delete</span></p>
                </div>
                <div  ng-repeat="service in order.services">
                    <h4>{{service.name}}</h4>
                    <div class="service set-border-top-bottom" ng-repeat="item in service.items">

                        <p class="description" ng-model="item.name">{{item.name}}</p>
                        <p class="image"><img src={{imageStr+item.imgUrl}} alt="photo"></p>
                        <p class="quantity">
                            <input  ng-change = "totalAmount()" ng-model="item.quantity" type="number" id="quantity" value={{item.quantity}} min="1" max={{item.amount}}>
                        </p> 
                        <p class="price">{{item.cost}}</p>

                        <p class="total">{{totalAmountProduct(3,item.cost)}} uah</p>
                        <p class="delete"> <button class="btn-remove" id={{item.id}} ng-click="handle(service,service.name, item.id)" >x</button></p>
                    </div>
                </div>
                <div class="guest-invitation" ng-if="personListIsExist">
                    <h4>Invite guests: </h4>
                   <div class="guest-invitation-info">
                       <p class="description">People</p>
                       <p class="image">-</p>
                       <p class="quantity">{{guestsQuantity}}</p>
                       <p class="price">-</p>
                       <p class="total">{{totalAmountInvitation = totalAmountProduct(
                       guestsQuantity,'invite')}} uah</p>
                       <p class="delete"> <button class="btn-remove" ng-click="handle(personList)" >x</button>
                   </div>
                </div>
                <div class="rent-hall" ng-if="!!order.halls">
                    <h4>Rent hall: </h4>
                    <div class="rent-hall-info">
                        <p class="description">{{order.halls.name}}</p>
                        <p class="image">{{imageStr+order.halls.imgUrl}}</p>
                        <p class="quantity">- </p>
                        <p class="price">{{order.halls.cost}}</p>
                        <p class="total">{{totalAmountHalls = totalAmountProduct(order.halls.people,order.halls.cost)}} uah</p>
                        <p class="delete"> <button class="btn-remove" ng-click="handle(order.halls)" >x</button>
                    </div>
                </div>
                <div class="rent-hall" ng-if="!!order.design">
                    <h4>Discount: </h4>
                    <div class="rent-hall-info">
                        <p class="description">{{order.design.name}}</p>
                        <p class="image">{{order.design.imgUrl}}</p>
                        <p class="quantity"><a href={{order.design.link}}>link to {{order.design.name}}</a></p>
                        <p class="price">-</p>
                        <p class="total">{{order.design.discount}}</p>
                        <p class="delete"> <button class="btn-remove" ng-click="handle(order.design)" >x</button>
                    </div>
                </div>
            </div>
            <h4>Total amount: {{totalAll}}$ </h4>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-4">
            <div class="total-info">
               
               <div class="confirm-btn-wrapper">
                   <button class="btn-create-order" ng-click="createOrderList()">Create order</button>
               </div>
                <div ng-if="createOrder">
                    <h3>Your order:</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Description</th>
                                <th>Quantity</th>
                                <th>Price</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-if="order.personListIsExist">
                                <td >Invite  guests</td>
                                <td>{{guestsQuantity}} people</td>
                                <td>{{totalAmountProduct(guestsQuantity,'invite')}}</td>
                                <td>{{totalAmountProduct(guestsQuantity,'invite')}}</td>
                            </tr>
                            <tr ng-if="!!order.halls">
                                <td >Rent hall {{order.halls.name}}</td>
                                <td>{{guestsQuantity}} people</td>
                                <td>{{order.halls.cost}}</td>
                                <td>{{totalAmountProduct(guestsQuantity,order.halls.cost)}}</td>
                            </tr>
                        
                            <tr ng-repeat="serviceItem in createOrderList()">
                                <td >{{serviceItem.name}}</td>
                                <td>{{serviceItem.quantity}}</td>
                                <td>{{serviceItem.cost}}</td>
                                <td>{{totalAmountProduct( serviceItem.quantity, serviceItem.cost)}}</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr ng-if="!!order.design">
                                <td colspan="3">Get discount {{order.design.name}}</td>
                                <td>{{order.design.discount}}</td>
                            </tr> 
                            <tr>
                                <td colspan="3">Total</td>
                                <td>{{sum+150}}</td>
                            </tr>

                        </tfoot>
                    </table>
                    <div class="confirm-order">
                        <button class="btn-confirm-order">Confirm</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>